<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Animated United States map made with Raphael</title>
</head>

<body>
  <span> Tour Afrique </span>
  <div id="container"></div>
  <div id="details-box"></div>
  <!-- /container -->

  <script src="raphael-min.js"></script>
  <script src="app.js"></script>
  <script src="../us-map-svg.js"></script>
  <script>
    window.onload = function () {
      var R = Raphael("container", 1000, 900),
        attr = {
          fill: "#d3d3d3",
          stroke: "#fff",
          "stroke-opacity": "1",
          "stroke-linejoin": "round",
          "stroke-miterlimit": "4",
          "stroke-width": "0.75",
          "stroke-dasharray": "none",
        },
        usRaphael = {};

      //Draw Map and store Raphael paths
      for (var state in usMap) {
        usRaphael[state] = R.path(usMap[state]).attr(attr);
      }

      //Do Work on Map
      for (var state in usRaphael) {
        usRaphael[state].color = Raphael.getColor();

        (function (st, state) {
          st[0].style.cursor = "pointer";

          st[0].onmouseover = function () {
            st.animate({ fill: st.color }, 500);
            st.toFront();
            R.safari();
          };

          st[0].onmouseout = function () {
            st.animate({ fill: "#d3d3d3" }, 500);
            st.toFront();
            R.safari();
          };
        })(usRaphael[state], state);
      }
    };
  </script>

  <script>
    var tooltipSpan = document.getElementById("details-box");

    document.addEventListener("mouseover", function (e) {
      if (e.target.tagName == "path") {
        var content = e.target.dataset.name;
        document.getElementById("details-box").innerHTML = content;
        document.getElementById("details-box").style.opacity = "100%";
      } else {
        document.getElementById("details-box").style.opacity = "0%";
      }
    });

    window.onmousemove = function (e) {
      var x = e.clientX,
        y = e.clientY;
      tooltipSpan.style.top = y + 20 + "px";
      tooltipSpan.style.left = x + "px";
    };
  </script>
</body>

</html>
